var Panier=function(){var c=this;this.cart=[];null!==localStorage.getItem("cart")&&localStorage.getItem("cart").split("||").map(function(b){if(""===b)return"";var a=b.split("|");b=a[0];var d=parseInt(a[1]),a=parseInt(a[2]);c.cart.push(new Item(b,d,a))});this.panierShowElements()};Panier.prototype.addToPanier=function(c,b,a){var d=parseInt(document.getElementById(a).value);document.getElementById(a).value=0;0<d&&this.cart.push(new Item(c,d,b));this.updateStorage();this.panierShowElements()};
Panier.prototype.updateStorage=function(){var c="";this.cart.map(function(b){c+=b.name+"|";c+=b.qte+"|";c+=b.price+"||"});localStorage.setItem("cart",c)};Panier.prototype.elementsInPanier=function(){var c=0;this.cart.map(function(b){c+=b.qte});return c};Panier.prototype.vider=function(){this.cart=[];this.panierShowElements();localStorage.removeItem("cart")};
Panier.prototype.panierShowElements=function(){document.getElementById("nbElelemntsInPanier").innerHTML=this.elementsInPanier();var c=0,b=0,a="";0<this.elementsInPanier()?(a+="<table class='table'><tr><th>name</th><th>qte</th><th>price</th></tr>",this.cart.map(function(d){c+=d.qte*d.price;b+=d.qte;a+="<tr><td>";a+=d.name;a+="</td><td>";a+=d.qte;a+="</td><td>";a+=d.price;a+="</td></tr>"}),a+="<tr><td>TOTAL</td><td>",a+=b,a+="</td><td>",a+=c,a+="</td></tr></table>",a+="<button class='btn-success' onclick='alert()'>Passer commande</button>",
a+="<button class='btn-danger' onclick='panier.vider()'>Vider panier</button>"):a="Votre Panier est vide";document.getElementById("showCart").innerHTML=a};
